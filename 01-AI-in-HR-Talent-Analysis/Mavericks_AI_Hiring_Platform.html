<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mavericks International - AI-Powered Recruitment Platform</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
            color: #e0e0e0;
            overflow-x: hidden;
        }

        /* LOGIN PAGE */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
        }

        .login-box {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 50px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .login-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .login-header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 700;
        }

        .login-header p {
            color: #999;
            font-size: 14px;
        }

        .role-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        .role-btn {
            padding: 15px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.05);
            color: #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .role-btn.active {
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            border-color: #2196F3;
            color: white;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #e0e0e0;
        }

        .form-group input {
            width: 100%;
            padding: 12px 15px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #e0e0e0;
            font-size: 14px;
            transition: all 0.3s;
        }

        .form-group input:focus {
            outline: none;
            background: rgba(255, 255, 255, 0.1);
            border-color: #2196F3;
            box-shadow: 0 0 10px rgba(33, 150, 243, 0.3);
        }

        .login-btn {
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
        }

        .login-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(33, 150, 243, 0.3);
        }

        .demo-credentials {
            background: rgba(76, 175, 80, 0.1);
            border-left: 3px solid #4CAF50;
            padding: 15px;
            border-radius: 5px;
            margin-top: 30px;
            font-size: 12px;
        }

        .demo-credentials p {
            margin-bottom: 8px;
            color: #a8d5a8;
        }

        /* MAIN DASHBOARD */
        .dashboard {
            display: none;
        }

        .dashboard.active {
            display: flex;
        }

        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.03);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 30px 0;
            height: 100vh;
            overflow-y: auto;
            position: fixed;
            left: 0;
            top: 0;
        }

        .logo-section {
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 30px;
            text-align: center;
        }

        .logo-section h2 {
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-size: 20px;
        }

        .nav-menu {
            list-style: none;
        }

        .nav-item {
            padding: 0;
            margin: 0;
        }

        .nav-link {
            display: flex;
            align-items: center;
            padding: 15px 30px;
            color: #b0b0b0;
            text-decoration: none;
            transition: all 0.3s;
            cursor: pointer;
        }

        .nav-link:hover {
            background: rgba(33, 150, 243, 0.1);
            color: #2196F3;
            border-left: 3px solid #2196F3;
        }

        .nav-link.active {
            background: rgba(33, 150, 243, 0.2);
            color: #2196F3;
            border-left: 3px solid #2196F3;
        }

        .nav-icon {
            margin-right: 15px;
            font-size: 18px;
        }

        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 30px;
        }

        .header-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.03);
            padding: 20px 30px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-bar h1 {
            font-size: 28px;
            color: #e0e0e0;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logout-btn {
            padding: 10px 20px;
            background: linear-gradient(135deg, #FF6B6B 0%, #EE5A6F 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            transform: translateY(-2px);
        }

        /* SECTIONS */
        .section {
            display: none;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* INTERVIEW SCHEDULER */
        .calendar-container {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-header h2 {
            font-size: 22px;
            color: #2196F3;
        }

        .calendar-nav {
            display: flex;
            gap: 10px;
        }

        .calendar-nav button {
            padding: 8px 15px;
            background: rgba(33, 150, 243, 0.2);
            color: #2196F3;
            border: 1px solid #2196F3;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .calendar-nav button:hover {
            background: #2196F3;
            color: white;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .day-cell {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .day-cell:hover {
            background: rgba(33, 150, 243, 0.2);
            border-color: #2196F3;
        }

        .day-cell.event {
            background: rgba(76, 175, 80, 0.2);
            border-color: #4CAF50;
        }

        .day-number {
            font-weight: bold;
            font-size: 16px;
        }

        .event-indicator {
            font-size: 10px;
            color: #4CAF50;
            margin-top: 3px;
        }

        /* INTERVIEWS LIST */
        .interviews-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .interview-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            transition: all 0.3s;
        }

        .interview-card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: #2196F3;
            box-shadow: 0 10px 30px rgba(33, 150, 243, 0.2);
        }

        .interview-card.upcoming {
            border-left: 4px solid #4CAF50;
        }

        .interview-card.completed {
            border-left: 4px solid #2196F3;
        }

        .interview-card.pending {
            border-left: 4px solid #FF9800;
        }

        .interview-status {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .status-upcoming {
            background: rgba(76, 175, 80, 0.2);
            color: #4CAF50;
        }

        .status-completed {
            background: rgba(33, 150, 243, 0.2);
            color: #2196F3;
        }

        .status-pending {
            background: rgba(255, 152, 0, 0.2);
            color: #FF9800;
        }

        .interview-info {
            margin-bottom: 15px;
        }

        .interview-info p {
            margin: 8px 0;
            font-size: 14px;
            color: #b0b0b0;
        }

        .interview-info strong {
            color: #e0e0e0;
        }

        .interview-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .action-btn {
            flex: 1;
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            font-size: 13px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            color: white;
        }

        .btn-danger {
            background: rgba(255, 107, 107, 0.2);
            color: #FF6B6B;
            border: 1px solid #FF6B6B;
        }

        .btn-warning {
            background: rgba(255, 152, 0, 0.2);
            color: #FF9800;
            border: 1px solid #FF9800;
        }

        .btn-primary:hover, .btn-danger:hover, .btn-warning:hover {
            transform: translateY(-2px);
        }

        /* CHATBOX */
        .chatbox-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 350px;
            height: 500px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .chatbox-header {
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            padding: 20px;
            color: white;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .chatbox-header h3 {
            font-size: 16px;
            font-weight: 700;
        }

        .chatbox-close {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            cursor: pointer;
            font-size: 20px;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .chatbox-close:hover {
            background: rgba(255, 255, 255, 0.5);
        }

        .chatbox-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .message {
            margin-bottom: 10px;
        }

        .message.bot {
            display: flex;
            justify-content: flex-start;
        }

        .message.user {
            display: flex;
            justify-content: flex-end;
        }

        .message-bubble {
            max-width: 80%;
            padding: 12px 15px;
            border-radius: 15px;
            word-wrap: break-word;
            font-size: 13px;
            line-height: 1.4;
        }

        .bot .message-bubble {
            background: rgba(33, 150, 243, 0.2);
            color: #2196F3;
            border: 1px solid rgba(33, 150, 243, 0.3);
        }

        .user .message-bubble {
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            color: white;
        }

        .chatbox-input {
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }

        .chatbox-input input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #e0e0e0;
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 13px;
        }

        .chatbox-input button {
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .chatbox-input button:hover {
            transform: scale(1.05);
        }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(30, 35, 50, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            color: #e0e0e0;
            font-size: 22px;
        }

        .modal-close {
            background: none;
            border: none;
            color: #e0e0e0;
            font-size: 28px;
            cursor: pointer;
        }

        /* RESPONSIVE */
        @media (max-width: 1200px) {
            .sidebar {
                width: 250px;
            }

            .main-content {
                margin-left: 250px;
            }

            .interviews-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .main-content {
                margin-left: 0;
            }

            .interviews-grid {
                grid-template-columns: 1fr;
            }

            .chatbox-container {
                width: calc(100% - 20px);
                height: 400px;
                bottom: 10px;
                right: 10px;
            }
        }

        /* STATS */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            background: linear-gradient(135deg, #2196F3 0%, #00BCD4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .stat-label {
            color: #b0b0b0;
            font-size: 14px;
        }

        /* SCROLLBAR */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(33, 150, 243, 0.3);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(33, 150, 243, 0.6);
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>

<!-- LOGIN PAGE -->
<div id="loginPage" class="login-container">
    <div class="login-box">
        <div class="login-header">
            <h1>üè≠ MAVERICKS</h1>
            <p>AI-Powered Recruitment Platform</p>
        </div>

        <div>
            <label style="display: block; margin-bottom: 15px; color: #e0e0e0; font-weight: 600;">Select Role</label>
            <div class="role-selector">
                <button class="role-btn active" onclick="selectRole('candidate')">
                    üë§ Candidate
                </button>
                <button class="role-btn" onclick="selectRole('hr')">
                    üë®‚Äçüíº HR Manager
                </button>
            </div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" id="loginEmail" placeholder="Enter your email" value="rajesh@email.com">
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" id="loginPassword" placeholder="Enter password" value="pass123">
        </div>

        <button class="login-btn" onclick="handleLogin()">Sign In</button>

        <div class="demo-credentials">
            <p><strong>Demo Credentials:</strong></p>
            <p><strong>Candidate:</strong> rajesh@email.com / pass123</p>
            <p><strong>HR Manager:</strong> hr@mavericks.com / hr123</p>
        </div>
    </div>
</div>

<!-- DASHBOARD -->
<div id="dashboard" class="dashboard">
    <aside class="sidebar">
        <div class="logo-section">
            <h2>üè≠ MAVERICKS</h2>
        </div>

        <ul class="nav-menu" id="navMenu">
            <li class="nav-item">
                <a class="nav-link active" onclick="switchSection('dashboard')">
                    <span class="nav-icon">üìä</span> Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="switchSection('interviews')">
                    <span class="nav-icon">üìÖ</span> My Interviews
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="switchSection('chatHistory')">
                    <span class="nav-icon">üí¨</span> Chat History
                </a>
            </li>
            <li class="nav-item" id="hrTasksMenu" class="hidden">
                <a class="nav-link" onclick="switchSection('hrTasks')">
                    <span class="nav-icon">‚úì</span> HR Tasks
                </a>
            </li>
            <li class="nav-item" id="hrAnalyticsMenu" class="hidden">
                <a class="nav-link" onclick="switchSection('hrAnalytics')">
                    <span class="nav-icon">üìà</span> Analytics
                </a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <div class="header-bar">
            <h1 id="pageTitle">Dashboard</h1>
            <div class="user-info">
                <span id="userDisplay">Welcome, Candidate</span>
                <button class="logout-btn" onclick="handleLogout()">Logout</button>
            </div>
        </div>

        <!-- DASHBOARD SECTION -->
        <section id="dashboardSection" class="section active">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="interviewsCount">1</div>
                    <div class="stat-label">Scheduled Interviews</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="completedCount">0</div>
                    <div class="stat-label">Completed Interviews</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="pendingCount">0</div>
                    <div class="stat-label">Pending Actions</div>
                </div>
            </div>

            <div class="calendar-container">
                <div class="calendar-header">
                    <h2>Interview Calendar</h2>
                    <div class="calendar-nav">
                        <button onclick="previousMonth()">‚Üê Prev</button>
                        <span id="monthYear" style="padding: 8px 15px;">November 2025</span>
                        <button onclick="nextMonth()">Next ‚Üí</button>
                    </div>
                </div>
                <div class="calendar-grid" id="calendarGrid"></div>
            </div>

            <h2 style="color: #2196F3; margin-bottom: 20px; font-size: 22px;">Upcoming Interviews</h2>
            <div class="interviews-grid" id="upcomingInterviews"></div>
        </section>

        <!-- INTERVIEWS SECTION -->
        <section id="interviewsSection" class="section">
            <h2 style="color: #2196F3; margin-bottom: 20px; font-size: 22px;">Your Interview Schedule</h2>
            <div class="interviews-grid" id="interviewsList"></div>
        </section>

        <!-- CHAT HISTORY SECTION -->
        <section id="chatHistorySection" class="section">
            <div style="background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 30px;">
                <h2 style="color: #2196F3; margin-bottom: 20px;">Your Chat History</h2>
                <div id="chatHistoryList" style="max-height: 600px; overflow-y: auto;">
                    <p style="color: #999;">Your previous conversations will appear here...</p>
                </div>
            </div>
        </section>

        <!-- HR TASKS SECTION -->
        <section id="hrTasksSection" class="section hidden">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">20</div>
                    <div class="stat-label">Total Scheduled</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">15</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">5</div>
                    <div class="stat-label">Upcoming</div>
                </div>
            </div>

            <h2 style="color: #2196F3; margin-bottom: 20px; font-size: 22px;">All Scheduled Interviews</h2>
            <div class="interviews-grid" id="allInterviewsList"></div>
        </section>

        <!-- HR ANALYTICS SECTION -->
        <section id="hrAnalyticsSection" class="section hidden">
            <div class="calendar-container">
                <h2 style="color: #2196F3; margin-bottom: 20px;">Recruitment Pipeline</h2>
                <canvas id="pipelineChart" style="max-height: 400px;"></canvas>
            </div>
        </section>
    </main>
</div>

<!-- MODAL FOR RESCHEDULING -->
<div id="rescheduleModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>Reschedule Interview</h2>
            <button class="modal-close" onclick="closeModal('rescheduleModal')">√ó</button>
        </div>
        <div class="form-group">
            <label>Select New Date</label>
            <input type="date" id="newDate" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #e0e0e0; border-radius: 8px;">
        </div>
        <div class="form-group">
            <label>Select New Time</label>
            <input type="time" id="newTime" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #e0e0e0; border-radius: 8px;">
        </div>
        <button class="login-btn" onclick="confirmReschedule()">Confirm Reschedule</button>
    </div>
</div>

<!-- AI CHATBOX -->
<div class="chatbox-container">
    <div class="chatbox-header" onclick="toggleChatbox()">
        <h3>ü§ñ AI Assistant</h3>
        <button class="chatbox-close">‚àí</button>
    </div>
    <div class="chatbox-messages" id="chatMessages">
        <div class="message bot">
            <div class="message-bubble">Hello! üëã I'm your AI Interview Assistant. How can I help you today?</div>
        </div>
    </div>
    <div class="chatbox-input">
        <input type="text" id="chatInput" placeholder="Type your message...">
        <button onclick="sendChatMessage()">Send</button>
    </div>
</div>

<script>
    // ==================== DATA ====================
    let currentUser = null;
    let userRole = null;
    let chatHistory = [];
    let allInterviews = [
        // Completed (15)
        { id: 1, candidate: 'Amit Verma', position: 'Senior Developer', date: '2025-10-15', time: '10:00 AM', status: 'completed', rating: 4.5 },
        { id: 2, candidate: 'Priya Singh', position: 'Product Manager', date: '2025-10-16', time: '2:00 PM', status: 'completed', rating: 4.8 },
        { id: 3, candidate: 'Rahul Patel', position: 'DevOps Engineer', date: '2025-10-17', time: '11:00 AM', status: 'completed', rating: 4.2 },
        { id: 4, candidate: 'Anjali Desai', position: 'UI/UX Designer', date: '2025-10-18', time: '3:00 PM', status: 'completed', rating: 4.7 },
        { id: 5, candidate: 'Vikram Kumar', position: 'Data Scientist', date: '2025-10-19', time: '10:30 AM', status: 'completed', rating: 4.4 },
        { id: 6, candidate: 'Neha Chopra', position: 'QA Lead', date: '2025-10-20', time: '1:00 PM', status: 'completed', rating: 4.6 },
        { id: 7, candidate: 'Sanjay Nair', position: 'Purchase Executive', date: '2025-10-21', time: '9:00 AM', status: 'completed', rating: 4.3 },
        { id: 8, candidate: 'Divya Malhotra', position: 'HR Executive', date: '2025-10-22', time: '2:30 PM', status: 'completed', rating: 4.5 },
        { id: 9, candidate: 'Arjun Singh', position: 'Mechanical Engineer', date: '2025-10-23', time: '10:00 AM', status: 'completed', rating: 4.1 },
        { id: 10, candidate: 'Priyanka Jain', position: 'Finance Analyst', date: '2025-10-24', time: '11:30 AM', status: 'completed', rating: 4.8 },
        { id: 11, candidate: 'Rohan Kapoor', position: 'Sales Manager', date: '2025-10-25', time: '3:00 PM', status: 'completed', rating: 4.4 },
        { id: 12, candidate: 'Shreya Reddy', position: 'Marketing Manager', date: '2025-10-26', time: '10:00 AM', status: 'completed', rating: 4.6 },
        { id: 13, candidate: 'Harish Pandey', position: 'Supply Chain Manager', date: '2025-10-27', time: '1:00 PM', status: 'completed', rating: 4.2 },
        { id: 14, candidate: 'Kavya Sharma', position: 'Business Analyst', date: '2025-10-28', time: '9:30 AM', status: 'completed', rating: 4.7 },
        { id: 15, candidate: 'Vikrant Rao', position: 'Operations Manager', date: '2025-10-29', time: '2:00 PM', status: 'completed', rating: 4.5 },
        
        // Upcoming (5)
        { id: 16, candidate: 'Rajesh Deshmukh', position: 'Purchase Executive', date: '2025-11-15', time: '3:00 PM', status: 'upcoming' },
        { id: 17, candidate: 'Priya Sharma', position: 'Purchase Engineer', date: '2025-11-15', time: '4:00 PM', status: 'upcoming' },
        { id: 18, candidate: 'Vikram Joshi', position: 'Purchase Specialist', date: '2025-11-16', time: '10:00 AM', status: 'upcoming' },
        { id: 19, candidate: 'Amit Gupta', position: 'Procurement Officer', date: '2025-11-16', time: '11:15 AM', status: 'upcoming' },
        { id: 20, candidate: 'Neha Malviya', position: 'Senior Purchase Exec', date: '2025-11-17', time: '10:00 AM', status: 'upcoming' },
    ];

    let candidateInterviews = [
        { id: 16, candidate: 'Rajesh Deshmukh', position: 'Purchase Executive', date: '2025-11-15', time: '3:00 PM', status: 'upcoming', link: 'meet.google.com/xyz-abc-123' }
    ];

    // ==================== LOGIN ====================
    function selectRole(role) {
        document.querySelectorAll('.role-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        document.getElementById('loginEmail').value = role === 'hr' ? 'hr@mavericks.com' : 'rajesh@email.com';
        document.getElementById('loginPassword').value = role === 'hr' ? 'hr123' : 'pass123';
    }

    function handleLogin() {
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        const role = document.querySelector('.role-btn.active').textContent.includes('HR') ? 'hr' : 'candidate';

        if (!email || !password) {
            alert('Please enter email and password');
            return;
        }

        currentUser = { email, role };
        userRole = role;

        // Hide login, show dashboard
        document.getElementById('loginPage').style.display = 'none';
        document.getElementById('dashboard').classList.add('active');

        // Update UI based on role
        document.getElementById('userDisplay').textContent = `Welcome, ${role === 'hr' ? 'HR Manager' : 'Candidate'} (${email})`;

        if (role === 'hr') {
            document.getElementById('hrTasksMenu').classList.remove('hidden');
            document.getElementById('hrAnalyticsMenu').classList.remove('hidden');
            loadHRDashboard();
        } else {
            loadCandidateDashboard();
        }

        initializeCalendar();
    }

    function handleLogout() {
        document.getElementById('dashboard').classList.remove('active');
        document.getElementById('loginPage').style.display = 'flex';
        currentUser = null;
        userRole = null;
        document.getElementById('loginEmail').value = 'rajesh@email.com';
        document.getElementById('loginPassword').value = 'pass123';
        location.reload();
    }

    // ==================== SECTIONS ====================
    function switchSection(sectionName) {
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelector(`#${sectionName}Section`).classList.add('active');
        document.querySelectorAll('.nav-link').forEach(link => link.classList.remove('active'));
        event.target.closest('.nav-link').classList.add('active');

        if (sectionName === 'dashboard') {
            document.getElementById('pageTitle').textContent = userRole === 'hr' ? 'HR Dashboard' : 'My Dashboard';
        } else if (sectionName === 'interviews') {
            document.getElementById('pageTitle').textContent = 'Interview Schedule';
            loadInterviewsList();
        } else if (sectionName === 'chatHistory') {
            document.getElementById('pageTitle').textContent = 'Chat History';
            loadChatHistory();
        } else if (sectionName === 'hrTasks') {
            document.getElementById('pageTitle').textContent = 'HR Tasks';
            loadHRTasks();
        } else if (sectionName === 'hrAnalytics') {
            document.getElementById('pageTitle').textContent = 'Analytics';
            setTimeout(() => drawChart(), 100);
        }
    }

    // ==================== CANDIDATE DASHBOARD ====================
    function loadCandidateDashboard() {
        document.getElementById('interviewsCount').textContent = candidateInterviews.length;
        document.getElementById('completedCount').textContent = '0';
        document.getElementById('pendingCount').textContent = candidateInterviews.length;

        const html = candidateInterviews.map(interview => `
            <div class="interview-card upcoming">
                <span class="interview-status status-upcoming">Upcoming</span>
                <div class="interview-info">
                    <p><strong>Position:</strong> ${interview.position}</p>
                    <p><strong>üìÖ Date:</strong> ${interview.date}</p>
                    <p><strong>‚è∞ Time:</strong> ${interview.time}</p>
                    <p><strong>üìΩÔ∏è Meeting Link:</strong></p>
                    <p style="color: #2196F3; word-break: break-all; font-size: 12px;">${interview.link}</p>
                </div>
                <div class="interview-actions">
                    <button class="action-btn btn-warning" onclick="openRescheduleModal(${interview.id})">Reschedule</button>
                    <button class="action-btn btn-primary" onclick="alert('Joining meeting: ' + '${interview.link}')">Join Meeting</button>
                </div>
            </div>
        `).join('');

        document.getElementById('upcomingInterviews').innerHTML = html;
    }

    // ==================== HR DASHBOARD ====================
    function loadHRDashboard() {
        const upcoming = allInterviews.filter(i => i.status === 'upcoming').length;
        const completed = allInterviews.filter(i => i.status === 'completed').length;
        
        document.getElementById('interviewsCount').textContent = upcoming;
        document.getElementById('completedCount').textContent = completed;

        const html = allInterviews.slice(0, 5).map(interview => `
            <div class="interview-card ${interview.status}">
                <span class="interview-status status-${interview.status}">${interview.status.charAt(0).toUpperCase() + interview.status.slice(1)}</span>
                <div class="interview-info">
                    <p><strong>üë§ Candidate:</strong> ${interview.candidate}</p>
                    <p><strong>Position:</strong> ${interview.position}</p>
                    <p><strong>üìÖ Date:</strong> ${interview.date}</p>
                    <p><strong>‚è∞ Time:</strong> ${interview.time}</p>
                    ${interview.rating ? `<p><strong>‚≠ê Rating:</strong> ${interview.rating}/5</p>` : ''}
                </div>
                <div class="interview-actions">
                    ${interview.status === 'upcoming' ? `
                        <button class="action-btn btn-warning" onclick="openRescheduleModal(${interview.id})">Reschedule</button>
                        <button class="action-btn btn-danger" onclick="cancelInterview(${interview.id})">Cancel</button>
                    ` : `
                        <button class="action-btn btn-primary">View Feedback</button>
                    `}
                </div>
            </div>
        `).join('');

        document.getElementById('upcomingInterviews').innerHTML = html;
    }

    function loadHRTasks() {
        const html = allInterviews.map(interview => `
            <div class="interview-card ${interview.status}">
                <span class="interview-status status-${interview.status}">${interview.status.charAt(0).toUpperCase() + interview.status.slice(1)}</span>
                <div class="interview-info">
                    <p><strong>üë§ Candidate:</strong> ${interview.candidate}</p>
                    <p><strong>Position:</strong> ${interview.position}</p>
                    <p><strong>üìÖ Date:</strong> ${interview.date}</p>
                    <p><strong>‚è∞ Time:</strong> ${interview.time}</p>
                    ${interview.rating ? `<p><strong>‚≠ê Rating:</strong> ${interview.rating}/5</p>` : ''}
                </div>
                <div class="interview-actions">
                    ${interview.status === 'upcoming' ? `
                        <button class="action-btn btn-warning" onclick="openRescheduleModal(${interview.id})">Reschedule</button>
                        <button class="action-btn btn-danger" onclick="cancelInterview(${interview.id})">Cancel</button>
                    ` : `
                        <button class="action-btn btn-primary">View Feedback</button>
                    `}
                </div>
            </div>
        `).join('');

        document.getElementById('allInterviewsList').innerHTML = html;
    }

    // ==================== INTERVIEW MANAGEMENT ====================
    function loadInterviewsList() {
        const html = (userRole === 'hr' ? allInterviews : candidateInterviews).map(interview => `
            <div class="interview-card ${interview.status}">
                <span class="interview-status status-${interview.status}">${interview.status.charAt(0).toUpperCase() + interview.status.slice(1)}</span>
                <div class="interview-info">
                    <p><strong>${userRole === 'hr' ? 'üë§ Candidate: ' : 'Position: '}${userRole === 'hr' ? interview.candidate : interview.position}</strong></p>
                    <p><strong>Position:</strong> ${interview.position}</p>
                    <p><strong>üìÖ Date:</strong> ${interview.date}</p>
                    <p><strong>‚è∞ Time:</strong> ${interview.time}</p>
                </div>
                <div class="interview-actions">
                    ${interview.status === 'upcoming' ? `
                        <button class="action-btn btn-warning" onclick="openRescheduleModal(${interview.id})">Reschedule</button>
                        ${userRole === 'hr' ? '<button class="action-btn btn-danger" onclick="cancelInterview(' + interview.id + ')">Cancel</button>' : ''}
                    ` : ''}
                </div>
            </div>
        `).join('');

        document.getElementById('interviewsList').innerHTML = html;
    }

    let rescheduleId = null;

    function openRescheduleModal(id) {
        rescheduleId = id;
        document.getElementById('rescheduleModal').classList.add('active');
    }

    function closeModal(modalId) {
        document.getElementById(modalId).classList.remove('active');
    }

    function confirmReschedule() {
        const newDate = document.getElementById('newDate').value;
        const newTime = document.getElementById('newTime').value;

        if (!newDate || !newTime) {
            alert('Please select both date and time');
            return;
        }

        // Update interview
        const interview = allInterviews.find(i => i.id === rescheduleId);
        if (interview) {
            interview.date = newDate;
            interview.time = newTime;
        }

        // Send notification to candidate
        if (userRole === 'hr') {
            alert(`Interview rescheduled! Notification sent to candidate for ${newDate} at ${newTime}`);
            // In real app: send email notification here
        }

        closeModal('rescheduleModal');
        loadHRDashboard();
        loadInterviewsList();
    }

    function cancelInterview(id) {
        if (confirm('Are you sure you want to cancel this interview?')) {
            allInterviews = allInterviews.filter(i => i.id !== id);
            alert('Interview cancelled and candidate notified');
            loadHRDashboard();
            loadHRTasks();
        }
    }

    // ==================== CALENDAR ====================
    let currentMonth = 10; // November (0-indexed)
    let currentYear = 2025;

    function initializeCalendar() {
        generateCalendar(currentMonth, currentYear);
    }

    function generateCalendar(month, year) {
        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const daysInPrevMonth = new Date(year, month, 0).getDate();

        let html = '';

        // Days from previous month
        for (let i = firstDay - 1; i >= 0; i--) {
            html += `<div class="day-cell" style="opacity: 0.3;">${daysInPrevMonth - i}</div>`;
        }

        // Days of current month
        for (let i = 1; i <= daysInMonth; i++) {
            const dateStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(i).padStart(2, '0')}`;
            const hasEvent = allInterviews.some(interview => interview.date === dateStr);
            html += `<div class="day-cell ${hasEvent ? 'event' : ''}" onclick="selectDate('${dateStr}')">
                <div class="day-number">${i}</div>
                ${hasEvent ? '<div class="event-indicator">üìÖ</div>' : ''}
            </div>`;
        }

        // Days from next month
        const totalCells = firstDay + daysInMonth;
        const nextMonthDays = totalCells % 7 === 0 ? 0 : 7 - (totalCells % 7);
        for (let i = 1; i <= nextMonthDays; i++) {
            html += `<div class="day-cell" style="opacity: 0.3;">${i}</div>`;
        }

        document.getElementById('calendarGrid').innerHTML = html;
        document.getElementById('monthYear').textContent = `${new Date(year, month).toLocaleDateString('en-US', { month: 'long', year: 'numeric' })}`;
    }

    function previousMonth() {
        currentMonth--;
        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        }
        generateCalendar(currentMonth, currentYear);
    }

    function nextMonth() {
        currentMonth++;
        if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }
        generateCalendar(currentMonth, currentYear);
    }

    function selectDate(dateStr) {
        const dayInterviews = allInterviews.filter(i => i.date === dateStr);
        if (dayInterviews.length > 0) {
            alert(`Interviews on ${dateStr}:\n${dayInterviews.map(i => `${i.candidate} - ${i.time}`).join('\n')}`);
        }
    }

    // ==================== CHAT ====================
    function sendChatMessage() {
        const input = document.getElementById('chatInput');
        const message = input.value.trim();

        if (!message) return;

        // Add user message
        const userMsg = document.createElement('div');
        userMsg.className = 'message user';
        userMsg.innerHTML = `<div class="message-bubble">${message}</div>`;
        document.getElementById('chatMessages').appendChild(userMsg);

        chatHistory.push({ sender: 'user', message });
        input.value = '';

        // Simulate bot response
        setTimeout(() => {
            const botResponse = generateBotResponse(message);
            const botMsg = document.createElement('div');
            botMsg.className = 'message bot';
            botMsg.innerHTML = `<div class="message-bubble">${botResponse}</div>`;
            document.getElementById('chatMessages').appendChild(botMsg);
            chatHistory.push({ sender: 'bot', message: botResponse });

            document.getElementById('chatMessages').scrollTop = document.getElementById('chatMessages').scrollHeight;
        }, 500);
    }

    function generateBotResponse(message) {
        const responses = {
            'hello': 'üëã Hello! How can I assist you with your interview today?',
            'reschedule': 'üìÖ I can help you reschedule your interview. Would you like to change the date or time?',
            'meeting link': 'üîó Your Google Meet link will be sent 24 hours before your interview.',
            'interview': 'üìù I can provide information about your upcoming interviews. Which interview would you like to know about?',
            'time': '‚è∞ Your interview is scheduled for the date and time mentioned in your dashboard.',
            'position': 'üíº You are interviewing for the Purchase Executive position in our Plastic Injection Manufacturing department.',
            'requirements': '‚úì Please bring:\n‚Ä¢ Valid ID\n‚Ä¢ Resume\n‚Ä¢ Portfolio (if applicable)\n‚Ä¢ Laptop for video call',
            'questions': '‚ùì Common interview questions include background, technical skills, and why you want to join Mavericks International.',
            'company': 'üè≠ Mavericks International is a leading plastic injection molding company based in Pune, Maharashtra with 15+ years of industry expertise.',
            'contact': 'üìû Our HR contact: Mr. Omkar Gurav\nüìß Email: Omkargurav1234@gmail.com\n‚òéÔ∏è Phone: +91-9002128185',
            'address': 'üìç Pune, Maharashtra, India',
            'help': 'üÜò I can help you with:\n‚Ä¢ Interview scheduling\n‚Ä¢ Rescheduling\n‚Ä¢ Meeting links\n‚Ä¢ Company information\n‚Ä¢ Position details',
        };

        const lowerMessage = message.toLowerCase();
        for (const [key, response] of Object.entries(responses)) {
            if (lowerMessage.includes(key)) {
                return response;
            }
        }

        return 'Thank you for your message! üòä I can help with interview scheduling, rescheduling, or general questions about Mavericks International. How else can I assist?';
    }

    function loadChatHistory() {
        const html = chatHistory.map(chat => `
            <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid rgba(255,255,255,0.1);">
                <strong style="color: ${chat.sender === 'user' ? '#2196F3' : '#4CAF50'};">${chat.sender === 'user' ? 'You' : 'AI Assistant'}:</strong>
                <p style="margin-top: 5px; color: #b0b0b0;">${chat.message}</p>
            </div>
        `).join('');

        document.getElementById('chatHistoryList').innerHTML = html || '<p style="color: #999;">No chat history yet.</p>';
    }

    function toggleChatbox() {
        const chatbox = document.querySelector('.chatbox-container');
        const messages = document.getElementById('chatMessages');
        chatbox.style.height = messages.style.display === 'none' ? '500px' : '50px';
        messages.style.display = messages.style.display === 'none' ? 'flex' : 'none';
    }

    // ==================== ANALYTICS ====================
    let chartInstance = null;

    function drawChart() {
        const ctx = document.getElementById('pipelineChart');
        if (!ctx) return;

        if (chartInstance) chartInstance.destroy();

        const completed = allInterviews.filter(i => i.status === 'completed').length;
        const upcoming = allInterviews.filter(i => i.status === 'upcoming').length;

        chartInstance = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Completed Interviews', 'Upcoming Interviews'],
                datasets: [{
                    data: [completed, upcoming],
                    backgroundColor: ['#2196F3', '#4CAF50'],
                    borderColor: ['rgba(33, 150, 243, 0.3)', 'rgba(76, 175, 80, 0.3)'],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        labels: {
                            color: '#e0e0e0',
                            font: { size: 14 }
                        }
                    }
                }
            }
        });
    }

    // Initialize on load
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('chatInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendChatMessage();
        });
    });
</script>

</body>
</html>
